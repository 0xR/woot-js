{"version":3,"sources":["woot/operation.js"],"names":[],"mappings":";;;;;;;;qBAAc,OAAO;;;;0BACP,aAAa;;;;qBAED,SAAS;;AAGnC,IAAM,cAAc,GAAG,QAAQ,CAAC;AAChC,IAAM,cAAc,GAAG,QAAQ,CAAC;;AAGhC,IAAM,eAAe,GAAG;AACtB,MAAI,EAAE,wBAAE,QAAQ,CAAC,mBAAE,QAAQ,CAAC,mBAAE,EAAE,EAAE,CAAC,cAAc,EAAE,cAAc,CAAC,CAAC,CAAC;AACpE,UAAQ,EAAE,wBAAE,QAAQ,CAAC,mBAAE,EAAE,CAAC,MAAM,CAAC,CAAC;AAClC,OAAK,EAAE,wBAAE,QAAQ,CAAC,wBAAE,QAAQ,oBAAa,CAAC;CAC3C,CAAC;;AAGF,IAAM,aAAa,GAAG,mBAAE,KAAK,CAAC,UAAC,IAAI,EAAE,QAAQ,EAAE,KAAK,EAAK;AACvD,SAAO,wBAAE,eAAe,CAAC,eAAe,EAAE;AACxC,QAAI,EAAJ,IAAI,EAAE,QAAQ,EAAR,QAAQ,EAAE,KAAK,EAAL,KAAK;GACtB,CAAC,CAAC;CACJ,CAAC,CAAC;;AAGH,IAAM,mBAAmB,GAAG,aAAa,CAAC,cAAc,CAAC,CAAC;AAC1D,IAAM,mBAAmB,GAAG,aAAa,CAAC,cAAc,CAAC,CAAC;;qBAG3C;AACb,qBAAmB,EAAnB,mBAAmB;AACnB,qBAAmB,EAAnB,mBAAmB;AACnB,iBAAe,EAAf,eAAe;CAChB","file":"woot/operation.js","sourcesContent":["import R from 'ramda';\nimport V from 'o-validator';\n\nimport {wCharSchema} from './wchar';\n\n\nconst INSERT_OP_TYPE = 'insert';\nconst DELETE_OP_TYPE = 'delete';\n\n\nconst operationSchema = {\n  type: V.required(R.contains(R.__, [INSERT_OP_TYPE, DELETE_OP_TYPE])),\n  clientId: V.required(R.is(Number)),\n  wChar: V.required(V.validate(wCharSchema))\n};\n\n\nconst makeOperation = R.curry((type, clientId, wChar) => {\n  return V.validateOrThrow(operationSchema, {\n    type, clientId, wChar\n  });\n});\n\n\nconst makeInsertOperation = makeOperation(INSERT_OP_TYPE);\nconst makeDeleteOperation = makeOperation(DELETE_OP_TYPE);\n\n\nexport default {\n  makeInsertOperation,\n  makeDeleteOperation,\n  operationSchema\n};\n"],"sourceRoot":"/source/"}